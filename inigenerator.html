<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>&lrm;</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="http://www.pirilampo.org/styles/lib/js/jquery.stickytableheaders.js"></script>
<script type="text/javascript" src="js/readtheorg.js"></script>
</head>
<body>
<div id="content" class="content">
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org91b1d96">Navigation Bar</a></li>
<li><a href="#orgf1f682c">Inigenerator</a></li>
<li><a href="#org24f6496">Options</a>
<ul>
<li><a href="#org06d7143">-d, &#x2013;directory</a></li>
<li><a href="#org28b9dac">&#x2013;autorange:</a></li>
<li><a href="#orgf8988d7">&#x2013;cell_size</a></li>
<li><a href="#orgd82ea21">&#x2013;manual_bounds:</a></li>
<li><a href="#orgfa30965">&#x2013;direction:</a></li>
<li><a href="#org875deed">&#x2013;batch:</a></li>
</ul>
</li>
<li><a href="#orgce2afa9">Examples</a></li>
</ul>
</div>
</div>
<div id="outline-container-org91b1d96" class="outline-2">
<h2 id="org91b1d96">Navigation Bar</h2>
<div class="outline-text-2" id="text-org91b1d96">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><a href="./index.html">Home</a></td>
<td class="org-left"><a href="./vtu_2bin.html">vtu2bin</a></td>
<td class="org-left"><a href="./inigenerator.html">inigenerator</a></td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-orgf1f682c" class="outline-2">
<h2 id="orgf1f682c">Inigenerator</h2>
<div class="outline-text-2" id="text-orgf1f682c">
<p>
The inigenerator utility is utilized to create the flowVC input files for multiple simulations. The inigenerator utility helps managing the following settings:
</p>

<ul class="org-ul">
<li>Directory paths (where input data is stored, where outputs go, etc.)</li>

<li>Mesh bounds for the data (e.g., xmin, xmax, ymin, ymax, zmin, zmax), streaching the mesh slighly to ensure cubic cells as required by flowVC</li>

<li>Resolution in each dimension (xres, yres, zres) based on the cell size.</li>

<li>Time direction settings (forward or backward) for the FTLE-related output.</li>

<li>Name prefixes and other run-time details that go into the final configuration so the output FTLE files are identifiable for each simulation case.</li>

<li><p>
All of the other settings can be set by updating the <a href="./FTLE_example.html">configuration file</a> located:
</p>
<div class="org-src-container">
<pre class="src src-Text">/src/config/config.inigenerator.cfg
</pre>
</div></li>
</ul>
<p>
As the inigenerator creates absolute file paths, it is recomeded that this utility is ran from the directory and computer/server that will be executing the flowVC calculations. If the folder is moved re-run the generator to update filepaths.
</p>

<p>
If you are using the <a href="./index.html#org24b8c74">recomended layout</a> the best way to use this is from the project_root direcory running the following command with the &#x2013;batch flag enabled.
</p>

<div class="org-src-container">
<pre class="src src-shell">python -m flowvcutils inigenerator --batch
</pre>
</div>
</div>
</div>


<div id="outline-container-org24f6496" class="outline-2">
<h2 id="org24f6496">Options</h2>
<div class="outline-text-2" id="text-org24f6496">
</div>
<div id="outline-container-org06d7143" class="outline-3">
<h3 id="org06d7143">-d, &#x2013;directory</h3>
<div class="outline-text-3" id="text-org06d7143">
<p>
This specifies where to run the tool from, with a default being the current directory you are in.
</p>
</div>
</div>
<div id="outline-container-org28b9dac" class="outline-3">
<h3 id="org28b9dac">&#x2013;autorange:</h3>
<div class="outline-text-3" id="text-org28b9dac">
<p>
This flag can be utilized to have the tool read the mesh bounds for the DataMesh and FTLEMesh from the simulation results data. To use this flag ensure there is at least one .vtu file in the input_vtu directory. If it is not set whatever is in the configuration file will be utilized.
</p>
</div>
</div>

<div id="outline-container-orgf8988d7" class="outline-3">
<h3 id="orgf8988d7">&#x2013;cell_size</h3>
<div class="outline-text-3" id="text-orgf8988d7">
<p>
The cell size for the FTLE mesh with a default of 0.001
</p>
</div>
</div>

<div id="outline-container-orgd82ea21" class="outline-3">
<h3 id="orgd82ea21">&#x2013;manual_bounds:</h3>
<div class="outline-text-3" id="text-orgd82ea21">
<p>
This can be utilized to set the min_x, min_y, min_z, max_x, max_y, and max_z for the FTLE mesh. This is useful when attempting to compute the ftle field on a smaller subset (i.e. slice) of the result domain.
</p>
</div>
</div>

<div id="outline-container-orgfa30965" class="outline-3">
<h3 id="orgfa30965">&#x2013;direction:</h3>
<div class="outline-text-3" id="text-orgfa30965">
<p>
This can be utilized to specify the computation of an attracting (backward) or repeling (forward) FTLE field.
</p>
</div>
</div>

<div id="outline-container-org875deed" class="outline-3">
<h3 id="org875deed">&#x2013;batch:</h3>
<div class="outline-text-3" id="text-org875deed">
<p>
This creates input files for multiple simulation result cases at once. To utilize this ensure your project is organized using the recomended layout
</p>

<div class="org-src-container">
<pre class="src src-text">&#9492;&#9472;&#9472; project_root
    &#9500;&#9472;&#9472; case1_
    &#9474;&#160;&#160; &#9500;&#9472;&#9472; input_bin
    &#9474;&#160;&#160; &#9500;&#9472;&#9472; input_vtu
    &#9474;&#160;&#160; &#9474;&#160;&#160; &#9500;&#9472;&#9472; case1_00000.vtu
    &#9474;&#160;&#160; &#9474;&#160;&#160; &#9500;&#9472;&#9472; case1_00050.vtu
    &#9474;&#160;&#160; &#9474;&#160;&#160; &#9492;&#9472;&#9472; case2_00100.vtu
    &#9474;&#160;&#160; &#9500;&#9472;&#9472; output_bin
    &#9474;&#160;&#160; &#9492;&#9472;&#9472; output_vtk
    &#9492;&#9472;&#9472; case2_
        &#9500;&#9472;&#9472; input_bin
        &#9500;&#9472;&#9472; input_vtu
        &#9474;&#160;&#160; &#9500;&#9472;&#9472; case2_00000.vtu
        &#9474;&#160;&#160; &#9500;&#9472;&#9472; case2_00050.vtu
        &#9474;&#160;&#160; &#9492;&#9472;&#9472; case2_00100.vtu
        &#9500;&#9472;&#9472; output_bin
        &#9492;&#9472;&#9472; output_vtk
</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-orgce2afa9" class="outline-2">
<h2 id="orgce2afa9">Examples</h2>
<div class="outline-text-2" id="text-orgce2afa9">
<p>
To generate the FTLE mesh over the entire computation domain for multiple simulation results you can run:
</p>
<div class="org-src-container">
<pre class="src src-shell">python -m flowvcutils inigenerator --auto_range True --batch
</pre>
</div>

<p>
To generate an FTLE field for a slice of the domain at a higher resolution you can run:
</p>
<div class="org-src-container">
<pre class="src src-shell">python -m flowvcutils inigenerator -cell_size 0.0001 --auto_range True --manual_bounds -0.000976751 0.145677 0.12361 -0.00095 0.203633 0.236885 --batch
</pre>
</div>

<p>
It is not critical that the range is perfectly divisible by the cell_size, the tool will increase the mesh bounds max slightly ensuring the cell size remains constant. However notice how in this case the x_min and x_max are far enough apart to generate at least 2 cells in the x-direction. This creates a pseudo-2D ftle mesh slice out of the domain, as the flowVC tool requires 2 cells every direction when a 3D mesh is utilized.
</p>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="creator"><a href="https://www.gnu.org/software/emacs/">Emacs</a> 29.3 (<a href="https://orgmode.org">Org</a> mode 9.6.15)</p>
</div>
</body>
</html>
