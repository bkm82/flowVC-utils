<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>&lrm;</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="http://www.pirilampo.org/styles/lib/js/jquery.stickytableheaders.js"></script>
<script type="text/javascript" src="js/readtheorg.js"></script>
</head>
<body>
<div id="content" class="content">
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org485005f">Inigenerator</a>
<ul>
<li><a href="#org94e1e52">Usage</a></li>
<li><a href="#orgb94a5db">Options</a>
<ul>
<li><a href="#orgf35319a">-d, &#x2013;directory</a></li>
<li><a href="#org0b5f5bf">&#x2013;autorange:</a></li>
<li><a href="#org7924b82">&#x2013;cell_size</a></li>
<li><a href="#org031c221">&#x2013;manual_bounds:</a></li>
<li><a href="#org5f90933">&#x2013;direction:</a></li>
<li><a href="#org05d1710">&#x2013;batch:</a></li>
</ul>
</li>
<li><a href="#org82e7e61">Examples</a></li>
</ul>
</li>
</ul>
</div>
</div>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><a href="./index.html">Home</a></td>
<td class="org-left"><a href="./inigenerator.html">inigenerator</a></td>
</tr>
</tbody>
</table>
<div id="outline-container-org485005f" class="outline-2">
<h2 id="org485005f">Inigenerator</h2>
<div class="outline-text-2" id="text-org485005f">
<p>
The inigenerator utility is utilized to create the flowVC input files for multiple simulations. The utility reads a configuration file wich can be used to set default paramaters (config.inigenerator.cfg) and adjusts input/output paths for each case.The utility can also be used to determines 3D coordinate bounds, streaching them slighly to meet the flowVC requirement of having cubic cells. Essentially the utility helps manage
</p>

<ul class="org-ul">
<li>Directory paths (where input data is stored, where outputs go, etc.)</li>

<li>Mesh bounds for the data (e.g., xmin, xmax, ymin, ymax, zmin, zmax).</li>

<li>Resolution in each dimension (xres, yres, zres) based on the cell size.</li>

<li>Time direction settings (forward or backward) for the FTLE-related output.</li>

<li>Name prefixes and other run-time details that go into the final configuration so the output FTLE files are identifiable for each simulation case.</li>
</ul>
</div>

<div id="outline-container-org94e1e52" class="outline-3">
<h3 id="org94e1e52">Usage</h3>
<div class="outline-text-3" id="text-org94e1e52">
<div class="org-src-container">
<pre class="src src-shell">python -m flowvcutils inigenerator
</pre>
</div>

<p>
The defaults for the .in settings can be found and changed in the flowVC_utils/src/config directory. The tool assumes that the results of the simulation are organized in the following folder structure, where "project_root" and "case1" can be any name, but the "input_bin" "input_vtu" and "output_bin" directory names are exactly as shown:
</p>

<div class="org-src-container">
<pre class="src src-text">project_root
&#9492;&#9472;&#9472; case1
    &#9500;&#9472;&#9472; input_bin
    &#9500;&#9472;&#9472; input_vtu
    &#9492;&#9472;&#9472; output_bin
</pre>
</div>
</div>
</div>


<div id="outline-container-orgb94a5db" class="outline-3">
<h3 id="orgb94a5db">Options</h3>
<div class="outline-text-3" id="text-orgb94a5db">
</div>
<div id="outline-container-orgf35319a" class="outline-4">
<h4 id="orgf35319a">-d, &#x2013;directory</h4>
<div class="outline-text-4" id="text-orgf35319a">
<p>
This specifies where to run the tool from, with a default being the current directory you are in.
</p>
</div>
</div>
<div id="outline-container-org0b5f5bf" class="outline-4">
<h4 id="org0b5f5bf">&#x2013;autorange:</h4>
<div class="outline-text-4" id="text-org0b5f5bf">
<p>
This flag can be utilized to have the tool read the mesh bounds for the DataMesh and FTLEMesh from the simulation results data. To use this flag ensure there is at least one .vtu file in the input_vtu directory. If it is not set whatever is in the configuration file will be utilized.
</p>
</div>
</div>

<div id="outline-container-org7924b82" class="outline-4">
<h4 id="org7924b82">&#x2013;cell_size</h4>
<div class="outline-text-4" id="text-org7924b82">
<p>
The cell size for the FTLE mesh with a default of 0.001
</p>
</div>
</div>

<div id="outline-container-org031c221" class="outline-4">
<h4 id="org031c221">&#x2013;manual_bounds:</h4>
<div class="outline-text-4" id="text-org031c221">
<p>
This can be utilized to set the min_x, min_y, min_z, max_x, max_y, and max_z for the FTLE mesh. This is useful when attempting to compute the ftle field on a smaller subset (i.e. slice) of the result domain.
</p>
</div>
</div>

<div id="outline-container-org5f90933" class="outline-4">
<h4 id="org5f90933">&#x2013;direction:</h4>
<div class="outline-text-4" id="text-org5f90933">
<p>
This can be utilized to specify the computation of an attracting (backward) or repeling (forward) FTLE field.
</p>
</div>
</div>

<div id="outline-container-org05d1710" class="outline-4">
<h4 id="org05d1710">&#x2013;batch:</h4>
<div class="outline-text-4" id="text-org05d1710">
<p>
This creates input files for multiple simulation result cases at once. To utilize this ensure your project is organized as follows
</p>

<div class="org-src-container">
<pre class="src src-text">-project_directory
project_root
&#9500;&#9472;&#9472; case1
&#9474;&#160;&#160; &#9500;&#9472;&#9472; input_bin
&#9474;&#160;&#160; &#9500;&#9472;&#9472; input_vtu
&#9474;&#160;&#160; &#9492;&#9472;&#9472; output_bin
&#9492;&#9472;&#9472; case2
    &#9500;&#9472;&#9472; input_bin
    &#9500;&#9472;&#9472; input_vtu
    &#9492;&#9472;&#9472; output_bin
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org82e7e61" class="outline-3">
<h3 id="org82e7e61">Examples</h3>
<div class="outline-text-3" id="text-org82e7e61">
<p>
To generate the FTLE mesh over the entire computation domain for multiple simulation results you can run:
</p>
<div class="org-src-container">
<pre class="src src-shell">python -m flowvcutils inigenerator --auto_range True --batch
</pre>
</div>

<p>
To generate an FTLE field for a slice of the domain at a higher resolution you can run:
</p>
<div class="org-src-container">
<pre class="src src-shell">python -m flowvcutils inigenerator -cell_size 0.0001 --auto_range True --manual_bounds -0.000976751 0.145677 0.12361 -0.00095 0.203633 0.236885 --batch
</pre>
</div>

<p>
It is not critical that the range is perfectly divisible by the cell_size, the tool will increase the mesh bounds max slightly ensuring the cell size remains constant. However notice how in this case the x_min and x_max are far enough apart to generate at least 2 cells in the x-direction. This creates a pseudo-2D ftle mesh slice out of the domain, as the flowVC tool requires 2 cells every direction when a 3D mesh is utilized.
</p>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="creator"><a href="https://www.gnu.org/software/emacs/">Emacs</a> 29.3 (<a href="https://orgmode.org">Org</a> mode 9.6.15)</p>
</div>
</body>
</html>
